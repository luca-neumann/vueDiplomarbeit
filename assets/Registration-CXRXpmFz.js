import{_ as R,i as v,u as f,j as h,b as i,c as l,d as t,k,n as d,l as m,v as g,g as u,p as y,m as $}from"./index-GsPRFIxi.js";import{u as B,r as w,m as c,e as V}from"./index-byrjIE5z.js";import{a as N}from"./axios-BimPEqV4.js";const P={name:"Registration",setup(){const r=v({newRegistration:{Vorname:"",Nachname:"",Email:"",Passwort:"",Brokername:""}}),e={newRegistration:{Vorname:{required:w,minLength:c(3)},Nachname:{required:w,minLength:c(3)},Email:{required:w,email:V},Passwort:{required:w,minLength:c(6)},Brokername:{required:w,minLength:c(7)}}},p=B(e,r),o=f(),b=async()=>{if(p.$invalid){console.log("Validation failed");return}try{const s=await N.post("https://os-beyond.at/htl/smart_sensor_netz/register",JSON.stringify(r.newRegistration),{headers:{"Content-Type":"application/json"}});console.log(s.data),s.data.error?console.error(s.data.message):(console.log("User added successfully"),r.newRegistration.Vorname="",r.newRegistration.Nachname="",r.newRegistration.Email="",r.newRegistration.Passwort="",r.newRegistration.Brokername="",o.push("/login"))}catch(s){console.error("An error occurred:",s)}};return{...h(r),v$:p,addNewRegistrationToDd:b}}},a=r=>(y("data-v-b1a9b1e3"),r=r(),$(),r),E={class:"flex justify-center items-center mt-10"},_={class:"w-1/3"},x=a(()=>t("h2",{class:"text-2xl font-bold mb-4"},"Registration",-1)),L=a(()=>t("label",{for:"Vorname",class:"block mb-2"},"First Name",-1)),q={key:0},U=a(()=>t("label",{for:"Nachname",class:"block mb-2"},"Last Name",-1)),S={key:0},T=a(()=>t("label",{for:"Brokername",class:"block mb-2"},"Brokername",-1)),D={key:0},I=a(()=>t("label",{for:"email",class:"block mb-2"},"Email",-1)),j={key:0},C=a(()=>t("label",{for:"Passwort",class:"block mb-2"},"Passwort",-1)),z={key:0},A=a(()=>t("button",{type:"submit",class:"w-full bg-green-700 text-white py-2 px-4 rounded hover:bg-green-800"},"Register",-1));function F(r,e,p,o,b,s){return i(),l("div",E,[t("div",_,[x,t("form",{onSubmit:e[10]||(e[10]=k((...n)=>o.addNewRegistrationToDd&&o.addNewRegistrationToDd(...n),["prevent"]))},[t("div",{class:d(["mb-4",{"form-group-error":o.v$.newRegistration.Vorname.$error}])},[L,m(t("input",{type:"text",id:"Vorname",class:"w-full px-4 py-2 border border-green-500 rounded","onUpdate:modelValue":e[0]||(e[0]=n=>r.newRegistration.Vorname=n),onBlur:e[1]||(e[1]=n=>o.v$.newRegistration.Vorname.$touch())},null,544),[[g,r.newRegistration.Vorname]]),o.v$.newRegistration.Vorname.$error?(i(),l("span",q,"First name is required and must be at least 3 characters long")):u("",!0)],2),t("div",{class:d(["mb-4",{"form-group-error":o.v$.newRegistration.Nachname.$error}])},[U,m(t("input",{type:"text",id:"Nachname",class:"w-full px-4 py-2 border border-green-500 rounded","onUpdate:modelValue":e[2]||(e[2]=n=>r.newRegistration.Nachname=n),onBlur:e[3]||(e[3]=n=>o.v$.newRegistration.Nachname.$touch())},null,544),[[g,r.newRegistration.Nachname]]),o.v$.newRegistration.Nachname.$error?(i(),l("span",S,"Last name is required and must be at least 3 characters long")):u("",!0)],2),t("div",{class:d(["mb-4",{"form-group-error":o.v$.newRegistration.Brokername.$error}])},[T,m(t("input",{type:"text",id:"Brokername",class:"w-full px-4 py-2 border border-green-500 rounded","onUpdate:modelValue":e[4]||(e[4]=n=>r.newRegistration.Brokername=n),onBlur:e[5]||(e[5]=n=>o.v$.newRegistration.Brokername.$touch())},null,544),[[g,r.newRegistration.Brokername]]),o.v$.newRegistration.Brokername.$error?(i(),l("span",D,"Brokername is required and must be at least 7 characters long")):u("",!0)],2),t("div",{class:d(["mb-4",{"form-group-error":o.v$.newRegistration.Email.$error}])},[I,m(t("input",{type:"email",id:"email",class:"w-full px-4 py-2 border border-green-500 rounded","onUpdate:modelValue":e[6]||(e[6]=n=>r.newRegistration.Email=n),onBlur:e[7]||(e[7]=n=>o.v$.newRegistration.Email.$touch())},null,544),[[g,r.newRegistration.Email]]),o.v$.newRegistration.Email.$error?(i(),l("span",j,"A valid Email is required")):u("",!0)],2),t("div",{class:d(["mb-4",{"form-group-error":o.v$.newRegistration.Passwort.$error}])},[C,m(t("input",{type:"Password",id:"Passwort",class:"w-full px-4 py-2 border border-green-500 rounded","onUpdate:modelValue":e[8]||(e[8]=n=>r.newRegistration.Passwort=n),onBlur:e[9]||(e[9]=n=>o.v$.newRegistration.Passwort.$touch())},null,544),[[g,r.newRegistration.Passwort]]),o.v$.newRegistration.Passwort.$error?(i(),l("span",z,"Password is required and must be at least 6 characters long")):u("",!0)],2),A],32)])])}const G=R(P,[["render",F],["__scopeId","data-v-b1a9b1e3"]]);export{G as default};

import{a as u}from"./axios-BimPEqV4.js";import{_,r as b,o as h,b as s,c as a,d as e,F as m,f as x,t as n,a as p,g as i,e as y}from"./index-CJosM8Co.js";const f={name:"TableData",setup(){const d=b([]),l=async()=>{try{const t=localStorage.getItem("userid"),c=await u.get(`https://os-beyond.at/htl/smart_sensor_netz/feinstaubwerte/client/${t}`);console.log(c.data),d.value=c.data.sensordata}catch(t){console.error("An error occurred while fetching sensor data:",t)}},g=t=>new Date(t).toLocaleTimeString(),o=t=>new Date(t).toLocaleDateString("de-DE",{day:"numeric",month:"long",year:"numeric"});return h(()=>{l()}),{sensorData:d,formatTime:g,formatDate:o}}},D={class:"flex justify-center mt-10"},k={class:"w-4/5 bg-green-700 rounded-lg"},w={class:"w-full border-collapse"},T=e("thead",null,[e("tr",null,[e("th",{class:"border border-green-600 p-2 text-center text-gray-800 rounded-lg"},"Client"),e("th",{class:"border border-green-600 p-2 text-center text-gray-800 rounded-lg"},"Pm1"),e("th",{class:"border border-green-600 p-2 text-center text-gray-800 rounded-lg"},"Pm2.5"),e("th",{class:"border border-green-600 p-2 text-center text-gray-800 rounded-lg"},"Pm10"),e("th",{class:"border border-green-600 p-2 text-center text-gray-800 rounded-lg"},"Zeitpunkt"),e("th",{class:"border border-green-600 p-2 text-center text-gray-800 rounded-lg"},"Datum")])],-1),$={key:0},I=e("td",{colspan:"6",class:"border border-green-600 p-2 text-center text-gray-800 rounded-lg"}," Keine Daten verfÃ¼gbar oder Verbindung zur Datenbank fehlgeschlagen. ",-1),S=[I],P={class:"border border-green-600 p-2 text-center text-gray-800 rounded-lg"},V={class:"border border-green-600 p-2 text-center text-gray-800 rounded-lg"},v={class:"border border-green-600 p-2 text-center text-gray-800 rounded-lg"},F={class:"border border-green-600 p-2 text-center text-gray-800 rounded-lg"},z={class:"border border-green-600 p-2 text-center text-gray-800 rounded-lg"},B={class:"border border-green-600 p-2 text-center text-gray-800 rounded-lg"};function C(d,l,g,o,t,c){return s(),a("div",D,[e("div",k,[e("table",w,[T,e("tbody",null,[o.sensorData.length===0?(s(),a("tr",$,S)):(s(!0),a(m,{key:1},x(o.sensorData,r=>(s(),a("tr",{key:r.ValueID},[e("td",P,n(r.ClientID),1),e("td",V,n(r["Pm1.0"]),1),e("td",v,n(r["Pm2.5"]),1),e("td",F,n(r.Pm10),1),e("td",z,n(o.formatTime(r.Timestamp)),1),e("td",B,n(o.formatDate(r.Date)),1)]))),128))])])])])}const L=_(f,[["render",C]]),N={name:"Feed",data(){return{user:null}},components:{TableData:L},async created(){const d=localStorage.getItem("userid"),l=await u.get(`https://os-beyond.at/htl/smart_sensor_netz/user/${d}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});this.user=l.data}},A=e("h1",{class:"text-4xl font-bold text-center mt-10"},"Feed",-1),E={key:0,class:"text-3xl font-bold text-center mt-3"},W={key:1,class:"text-3xl font-bold text-center mt-3"};function j(d,l,g,o,t,c){const r=p("TableData");return s(),a(m,null,[A,t.user?(s(),a("h3",E,"Willkommen, "+n(t.user.Vorname),1)):i("",!0),t.user?i("",!0):(s(),a("h3",W,"Willkommen")),y(r)],64)}const Z=_(N,[["render",j]]);export{Z as default};

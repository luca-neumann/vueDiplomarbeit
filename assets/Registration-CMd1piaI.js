import{_ as c,i as R,u as v,j as k,b as i,c as l,d as t,k as $,n as d,l as m,v as g,f as u,p as y,m as h}from"./index-Dl-zu0tW.js";import{u as B,r as p,m as w,e as V}from"./index-DhBedBXW.js";import{a as x}from"./axios-BimPEqV4.js";const _={name:"Registration",setup(){const r=R({newRegistration:{firstname:"",lastname:"",brokername:"",email:"",password:""}}),e={newRegistration:{firstname:{required:p,minLength:w(3)},lastname:{required:p,minLength:w(3)},brokername:{required:p,minLength:w(7)},email:{required:p,email:V},password:{required:p,minLength:w(6)}}},b=B(e,r),o=v(),f=async()=>{if(b.$invalid){console.log("Validation failed");return}try{const a=await x.post("http://localhost/php/vuediplomarbeit/src/api/user.php?action=registration",r.newRegistration,{headers:{"Content-Type":"application/json"}});console.log(a.data),a.data.error?console.error(a.data.message):(console.log("User added successfully"),r.newRegistration.firstname="",r.newRegistration.lastname="",r.newRegistration.brokername="",r.newRegistration.email="",r.newRegistration.password="",o.push("/login"))}catch(a){console.error("An error occurred:",a)}};return{...k(r),v$:b,addNewRegistrationToDd:f}}},n=r=>(y("data-v-96201b94"),r=r(),h(),r),L={class:"flex justify-center items-center mt-10"},N={class:"w-1/3"},q=n(()=>t("h2",{class:"text-2xl font-bold mb-4"},"Registration",-1)),U=n(()=>t("label",{for:"firstname",class:"block mb-2"},"First Name",-1)),T={key:0},D=n(()=>t("label",{for:"lastname",class:"block mb-2"},"Last Name",-1)),I={key:0},S=n(()=>t("label",{for:"brokername",class:"block mb-2"},"Brokername",-1)),j={key:0},C=n(()=>t("label",{for:"email",class:"block mb-2"},"Email",-1)),A={key:0},E=n(()=>t("label",{for:"password",class:"block mb-2"},"Password",-1)),F={key:0},M=n(()=>t("button",{type:"submit",class:"w-full bg-green-700 text-white py-2 px-4 rounded hover:bg-green-800"},"Register",-1));function P(r,e,b,o,f,a){return i(),l("div",L,[t("div",N,[q,t("form",{onSubmit:e[10]||(e[10]=$((...s)=>o.addNewRegistrationToDd&&o.addNewRegistrationToDd(...s),["prevent"]))},[t("div",{class:d(["mb-4",{"form-group-error":o.v$.newRegistration.firstname.$error}])},[U,m(t("input",{type:"text",id:"firstname",class:"w-full px-4 py-2 border border-green-500 rounded","onUpdate:modelValue":e[0]||(e[0]=s=>r.newRegistration.firstname=s),onBlur:e[1]||(e[1]=s=>o.v$.newRegistration.firstname.$touch())},null,544),[[g,r.newRegistration.firstname]]),o.v$.newRegistration.firstname.$error?(i(),l("span",T,"First name is required and must be at least 3 characters long")):u("",!0)],2),t("div",{class:d(["mb-4",{"form-group-error":o.v$.newRegistration.lastname.$error}])},[D,m(t("input",{type:"text",id:"lastname",class:"w-full px-4 py-2 border border-green-500 rounded","onUpdate:modelValue":e[2]||(e[2]=s=>r.newRegistration.lastname=s),onBlur:e[3]||(e[3]=s=>o.v$.newRegistration.lastname.$touch())},null,544),[[g,r.newRegistration.lastname]]),o.v$.newRegistration.lastname.$error?(i(),l("span",I,"Last name is required and must be at least 3 characters long")):u("",!0)],2),t("div",{class:d(["mb-4",{"form-group-error":o.v$.newRegistration.brokername.$error}])},[S,m(t("input",{type:"text",id:"brokername",class:"w-full px-4 py-2 border border-green-500 rounded","onUpdate:modelValue":e[4]||(e[4]=s=>r.newRegistration.brokername=s),onBlur:e[5]||(e[5]=s=>o.v$.newRegistration.brokername.$touch())},null,544),[[g,r.newRegistration.brokername]]),o.v$.newRegistration.brokername.$error?(i(),l("span",j,"Brokername is required and must be at least 7 characters long")):u("",!0)],2),t("div",{class:d(["mb-4",{"form-group-error":o.v$.newRegistration.email.$error}])},[C,m(t("input",{type:"email",id:"email",class:"w-full px-4 py-2 border border-green-500 rounded","onUpdate:modelValue":e[6]||(e[6]=s=>r.newRegistration.email=s),onBlur:e[7]||(e[7]=s=>o.v$.newRegistration.email.$touch())},null,544),[[g,r.newRegistration.email]]),o.v$.newRegistration.email.$error?(i(),l("span",A,"A valid email is required")):u("",!0)],2),t("div",{class:d(["mb-4",{"form-group-error":o.v$.newRegistration.password.$error}])},[E,m(t("input",{type:"password",id:"password",class:"w-full px-4 py-2 border border-green-500 rounded","onUpdate:modelValue":e[8]||(e[8]=s=>r.newRegistration.password=s),onBlur:e[9]||(e[9]=s=>o.v$.newRegistration.password.$touch())},null,544),[[g,r.newRegistration.password]]),o.v$.newRegistration.password.$error?(i(),l("span",F,"Password is required and must be at least 6 characters long")):u("",!0)],2),M],32)])])}const J=c(_,[["render",P],["__scopeId","data-v-96201b94"]]);export{J as default};
